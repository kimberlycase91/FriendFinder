<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>FriendFinder</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.3.min.js"></script>
  <script type="text/javascript"
    src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js'></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css"
    media="screen" />

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"> -->

</head>

<body>
  <div class="container">

    <h2>Survey Questions</h2>
    <hr>

    <h3><strong>About You</strong></h3>
    <h4>Name (Required)</h4>
    <input type="text" id="name" class="form-control" required>

    <h4>Link to Photo Image (Required)</h4>
    <input type="text" id="photo" class="form-control" required>

    <div class="questions input-field col s3 m6">
      <h6>Question 1</h6>
      <p>How much do you love dogs?</p>
      <select class="q1">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (only a little)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (like a lot)</option>
      </select>
  </div>

  <div class="questions input-field col s3 m6">
      <h6>Question 2</h6>
      <p>How likely are you to flake on plans? </p>
      <select class="q2">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (very likely) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (i would never) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 3</h6>
      <p>How quickly do you text back?</p>
      <select class="q3">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (sometimes days later) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (instantly) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 4</h6>
      <p>How much do you like wine?</p>
      <select class="q4">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (hate it) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (love it) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 5</h6>
      <p>Do you enjoy being outdoors?</p>
      <select class="q5">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (hate it) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (love it) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 6</h6>
      <p>How often do you brunch?</p>
      <select class="q6">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (never been) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (every sunday) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 7</h6>
      <p>How spontaneous are you?</p>
      <select class="q7">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (i plan everything) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (i've never made a plan in my life) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 8</h6>
      <p>Do you watch Grey's Anatomy?</p>
      <select class="q8">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (what?) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (i live for thursday night at 9 p.m.) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 9</h6>
      <p>Are you funny?</p>
      <select class="q9">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (no) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (yes) </option>
      </select>
  </div>
  <div class="questions input-field col s3 m6">
      <h6>Question 10</h6>
      <p>Do you hate taking long surveys?</p>
      <select class="q10">
          <option value="" disabled selected>Please select</option>
          <option value="1">1 (no) </option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (yes) </option>
      </select>

    <br>
    <br>

    <!-- Submit Button -->
    <a href="#modal1" class="survey-submit waves-effect waves-light btn-large modal-trigger">Submit</a>

    <hr>
    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/kimberlycase91/FriendFinder">GitHub
            Repo</a></p>
      </div>
    </footer>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    $(document).ready(function () {
      $('select').formSelect();

      $('.modal').modal();
      $(".survey-submit").on("click", function (event) {
        event.preventDefault();
        var newFriend = {
          name: $("#name").val().trim(),
          photo: $("#photo").val().trim(),
          scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
        };

        console.log(newFriend);

        $.ajax({
          url: "/api/friends",
          method: "POST",
          data: newFriend
        }).then(function (matchedFriend) {
          console.log(matchedFriend.name)
          if (matchedFriend) {
            $("#matchName").text(matchedFriend.name);
            $("#matchPhoto").attr("src", matchedFriend.photo);
          }
        });
      })

    });
  </script>

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Your new best friend is...</h4>
      <h5 id="matchName"></h5>
      <img style="width:300px;height:300px;" id="matchPhoto">
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>
</body>

</html>